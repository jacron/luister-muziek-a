<mat-card class="author-card">
  <div class="author-header">
    {{ author.first }} {{ author.last }} ({{ author.nbooks }})
    <app-author-edit-menu
      class="author-menu"
      [author]="author"
      (authorChange)="changeAuthor($event)"
      (close)="onClose($event)"
      (refresh)="onRefresh()"
    ></app-author-edit-menu>
  </div>
  <img [src]="imageUrl + author.id + refresh"
       class="author-image" alt="author image">
  <mat-card-content>
    <form [formGroup]="formGroup"
          novalidate
          class="form"
          (ngSubmit)="save()">
      <mat-form-field class="{{ option.name }}" *ngFor="let option of options">
        <img [src]="author.imgurl + refresh" *ngIf="option.name == 'imgurl' && author.imgurl"
             class="thumb" alt="author picture">
        <input matInput [placeholder]="option.label" [title]="option.label"
               [name]="option.name" [formControlName]="option.name">
        <mat-error *ngIf="hasError('last', 'required')">Title is required</mat-error>

      </mat-form-field>
      <button mat-raised-button color="primary"
              [disabled]="!formGroup.valid">Bewaar</button>
    </form>
    <button mat-flat-button (click)="remove()" class="button-remove"
    >Verwijder</button>
  </mat-card-content>
</mat-card>
