<mat-toolbar style="margin: -14px 0 0;" *ngIf="album">
  <mat-toolbar-row>
    <div #topicTitle
         contenteditable="true"
         class="title"
         [textContent]="album.Title"
         (input)="model=topicTitle.innerText"
         (keydown)="albumTitleKeydown($event, album.ID, topicTitle.innerText)">
    </div>
  </mat-toolbar-row>
  <mat-toolbar-row class="sub">
    <div #topicDescription
         contenteditable="true"
         [textContent]="album.Description"
         (input)="model=topicDescription.innerText"
         (keydown)="albumDescriptionKeydown($event, album.ID, topicDescription.innerText)">
    </div>
  </mat-toolbar-row>
  <mat-toolbar-row class="sub">
    <!-- collection (navigated) -->
    <div>
      <button mat-button
              (click)="back()"
              class="navig"
              [class.disabled]="!navBackwards"
              [title]="navBackwardsCount + ' albums'">
        <mat-icon>keyboard_arrow_left</mat-icon>
        <div class="info">
          {{ navBackwardsCount }}
        </div>
      </button>
      <a (click)="toSearch()">
        <span>{{ searchTitle }}</span>
      </a>
      <button mat-button
              (click)="forward()"
              class="navig"
              [title]="navForwardsCount + ' albums'"
              [class.disabled]="!navForwards">
        <div class="info" style="left: 14px;">
          {{ navForwardsCount }}
        </div>
        <mat-icon>keyboard_arrow_right</mat-icon>
      </button>
    </div>
    <mat-form-field>
      <mat-select [(value)]="album.ID">
        <mat-option *ngFor="let a of albums" [value]="a.ID">
          <a [routerLink]="['/album/', a.ID]">{{ a.Title }}</a>
        </mat-option>
      </mat-select>
    </mat-form-field>
    <!-- collection (mother) -->
    <div *ngIf="album.mother && searchParams && searchParams.idcoll && album.mother.ID != searchParams.idcoll">
      <a (click)="toCollection()"
         style="position: relative; top: -5px;margin-left: 32px;">
        <span>{{ album.mother.Title }}</span>
      </a>
    </div>
    <span class="horizontal-spacer"></span>

    <!-- icons on the right -->
    <button mat-icon-button [matMenuTriggerFor]="menu">
      <mat-icon>more_vert</mat-icon>
    </button>
    <mat-menu #menu="matMenu">
      <!-- make cusheets from pieces -->
      <button mat-menu-item
              (click)="editPieces()"
      >
        <mat-icon class="album-control edit-pieces"
                  waves-light waves-effect mdbRippleRadius
        >edit
        </mat-icon>
        <span>Add Cuesheets</span>
      </button>
      <!-- open tag editor -->
      <button mat-menu-item
              (click)="tagedit()"
      >
        <mat-icon class="album-control edit-tags"
                  waves-light waves-effect mdbRippleRadius
        >edit
        </mat-icon>
        <span>Edit file metatags</span>
      </button>
      <!-- open album in 'music' -->
      <button mat-menu-item
              (click)="openMusic(album.ID)"
      >
        <mat-icon class="album-control"
                  waves-light waves-effect mdbRippleRadius
        >queue_music
        </mat-icon>
        <span>Open in 'music'</span>
      </button>
      <!-- open in Finder -->
      <button mat-menu-item
              (click)="openFinder(album.ID)"
      >
        <mat-icon class="album-control"
                  waves-light waves-effect mdbRippleRadius
        >open_in_browser
        </mat-icon>
        <span>Reveal in Finder</span>
      </button>
      <!-- Reload pieces -->
      <button mat-menu-item
              (click)="refetch(album.ID)"
      >
        <mat-icon class="album-control"
                  waves-light waves-effect mdbRippleRadius
        >replay
        </mat-icon>
        <span>Reload Pieces</span>
      </button>
      <!-- to website (if any) -->
      <button mat-menu-item
              *ngIf="album && album.website"
              (click)="website()"
      >
        <mat-icon class="album-control"
                  waves-light waves-effect mdbRippleRadius
        >web
        </mat-icon>
        <span>Go to Website</span>
      </button>
      <!-- clipboard to folder.jpg -->
      <button mat-menu-item
              (click)="pasteAlbumImage()"
      >
        <mat-icon class="album-control"
                  waves-light waves-effect mdbRippleRadius
        >image
        </mat-icon>
        <span>Paste image (folder.jpg)</span>
      </button>
    </mat-menu>
  </mat-toolbar-row>
</mat-toolbar>
