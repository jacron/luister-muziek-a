<mat-card *ngIf="album" class="album"
     (keydown)="browse($event)"
     tabindex="0"
>
  <mat-card-header>
    <button mat-icon-button (click)="toList()">
      <mat-icon>arrow_back</mat-icon>
    </button>
    <button mat-icon-button
            (click)="back()"
            *ngIf="navBackwards">
      <mat-icon>keyboard_arrow_left</mat-icon>
    </button>
    <span mat-line class="album-title">{{ album.Title }}</span>
    <span class="horizontal-spacer"></span>
    <button mat-icon-button
            *ngIf="navForwards"
            (click)="forward()">
      <mat-icon>keyboard_arrow_right</mat-icon>
    </button>
    <app-album-menu [album]="album"></app-album-menu>
  </mat-card-header>
  <mat-card-header>
    <span mat-line class="album-description">
      {{ album.Description }}</span>
  </mat-card-header>
    <!--<app-toolbar [album]="album"></app-toolbar>-->

  <mat-card-content style="margin-top: 12px">
    <mat-drawer-container>
      <mat-drawer #lijstje mode="side" opened="false">
        <mat-list>
          <mat-list-item *ngFor="let album of list.albums">
            <a [routerLink]="['/album', album.ID]" class="link">
              {{ album.Title }}</a>
          </mat-list-item>
        </mat-list>
      </mat-drawer>
      <mat-drawer-content>
        <div class="chips">
          <button mat-icon-button (click)="lijstje.toggle()">
            <mat-icon>dehaze</mat-icon>
          </button>
          <app-chip-lists [album]="album"
                          [removable]="false"
                          [editable]="true"
                          [showimage]="false"
          ></app-chip-lists>
        </div>
        <div class="row">
          <div>
            <div class="thumb-container">
              <img src="{{ imgUrl }}{{ album.ID }}/album/300/-1"
                   (click)="openPic('front')"
                   class="thumb">
              <img *ngIf="album.album_back_image"
                   src="{{ imgBackUrl }}{{ album.ID }}/album/100/-1"
                   (click)="openPic('back')"
                   class="back-thumb">
            </div>
            <app-album-metatags [album]="album"></app-album-metatags>
          </div>
          <div class="col-cue">
            <app-album-cuesheets [cuesheets]="validCuesheets"
                                 [playable]="true"
                                 [idpiece]="idpiece"
                                 [album]="album"></app-album-cuesheets>
            <app-album-cuesheets [cuesheets]="invalidCuesheets"
                                 [playable]="false"
                                 [idpiece]="idpiece"
                                 [album]="album"></app-album-cuesheets>
          </div>
        </div>
        <div class="row selected-cuesheet">
          <div class="col">
            <div class="opener">
              <div class="count">{{ album.pieces.length }}</div>
              <mat-icon (click)="openPieces()"
                        title="view {{ album.pieces.length }} pieces"
                        [class.expanded]="album.expanded"
                        waves-light waves-effect
              >{{ chevron }}
              </mat-icon>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col pieces" [class.visible]="album.expanded">
            <app-album-pieces [pieces]="album.pieces"
                              [idpiece]="idpiece"
                              [album]="album"
            ></app-album-pieces>
          </div>
        </div>

      </mat-drawer-content>
    </mat-drawer-container>

  </mat-card-content>
</mat-card>
