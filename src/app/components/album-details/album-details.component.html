<div *ngIf="album" class="album"
     (keydown)="test($event)"
     tabindex="0"
     (swipeleft)="forward()"
     (swiperight)="back()"
>
    <app-toolbar [album]="album"></app-toolbar>
  <div>
    <mat-icon
      *ngIf="navBackwards"
      (click)="back()"
      class="navig left"
    >
      keyboard_arrow_left
    </mat-icon>
    <mat-icon
      *ngIf="navForwards"
      (click)="forward()"
      class="navig right"
    >
      keyboard_arrow_right
    </mat-icon>
  </div>
  <div class="chips">
      <app-chip-lists [album]="album"
                      [removable]="false"
                      [editable]="true"
                      [showimage]="false"
      ></app-chip-lists>
  </div>
  <div class="row">
    <div>
        <img src="{{ imgUrl }}{{ album.ID }}/album/300/-1"
             (click)="openPic('front')"
             class="thumb">
      <img *ngIf="album.album_back_image"
           src="{{ imgBackUrl }}{{ album.ID }}/album/100/-1"
           (click)="openPic('back')"
           class="back-thumb">
      <app-album-metatags [album]="album"></app-album-metatags>
    </div>
    <div class="col-cue">
      <!--<div *ngFor="let cuesheet of validCuesheets">-->
        <!--<div mat-line-->
              <!--class="title"-->
              <!--(click)="selectedCuesheet=cuesheet"-->
              <!--[class.selected]="cuesheet.ID == idpiece">-->
          <!--{{ cuesheet.Title }}-->
        <!--</div>-->
      <!--</div>-->
      <!--<div *ngFor="let cuesheet of invalidCuesheets">-->
        <!--<div mat-line-->
              <!--class="title invalid"-->
              <!--(click)="selectedCuesheet=cuesheet"-->
              <!--[class.selected]="cuesheet.ID == idpiece">-->
          <!--{{ cuesheet.Title }}-->
        <!--</div>-->
      <!--</div>-->
      <app-album-cuesheets [cuesheets]="validCuesheets"
                           [playable]="true"
                           [idpiece]="idpiece"
                           [album]="album"></app-album-cuesheets>
      <app-album-cuesheets [cuesheets]="invalidCuesheets"
                           [playable]="false"
                           [idpiece]="idpiece"
                           [album]="album"></app-album-cuesheets>
    </div>
  </div>
  <!--<div class="row cuesheets" *ngIf="selectedCuesheet">-->
    <!--<div class="col">-->
      <!--<mat-icon-->
        <!--[class.played]="selectedCuesheet.played"-->
        <!--[class.invalid]="selectedCuesheet.Invalid"-->
        <!--class="play"-->
        <!--waves-light waves-effect-->
        <!--(click)="play(selectedCuesheet.ID)">-->
        <!--play_circle_filled</mat-icon>-->

      <!--<app-cuesheet-menu-->
        <!--[cuesheet]="selectedCuesheet" (titleChange)="titleChange($event)"-->
        <!--[album]="album"></app-cuesheet-menu>-->

      <!--<div class="text-container">-->
        <!--<span mat-line-->
          <!--class="title"-->
          <!--[class.selected]="selectedCuesheet.ID == idpiece">-->
          <!--{{ selectedCuesheet.Title }}-->
        <!--</span>-->
      <!--</div>-->

    <!--</div>-->
  <!--</div>-->
  <div class="row selected-cuesheet">
    <div class="col">
      <div class="opener">
        <div class="count">{{ album.pieces.length }}</div>
        <mat-icon (click)="openPieces()"
                  title="view {{ album.pieces.length }} pieces"
                  [class.expanded]="album.expanded"
                  waves-light waves-effect
        >{{ chevron }}
        </mat-icon>
      </div>
    </div>
  </div>
  <div class="row">
    <div class="col pieces" [class.visible]="album.expanded">
      <app-album-pieces [pieces]="album.pieces"
                        [idpiece]="idpiece"
                        [album]="album"
      ></app-album-pieces>
    </div>
  </div>
</div>
